<?php

class Personagem {
    public $nome;
    public $vida;
    public $ataque;
    public $defesa;

    public function __construct($nome, $vida, $ataque, $defesa) {
        $this->nome = $nome;
        $this->vida = $vida;
        $this->ataque = $ataque;
        $this->defesa = $defesa;
    }

    public function atacar($inimigo) {
        $dano = $this->ataque - $inimigo->defesa;
        if ($dano < 0) $dano = 0;
        $inimigo->vida -= $dano;
        echo "$this->nome atacou $inimigo->nome e causou $dano de dano!\n";
    }

    public function status() {
        echo "$this->nome tem $this->vida de vida.\n";
    }
}

class Guerreiro extends Personagem {
    public function ataqueForte($inimigo) {
        $dano = $this->ataque + 5 - $inimigo->defesa;
        if ($dano < 0) $dano = 0;
        $inimigo->vida -= $dano;
        echo "$this->nome usou ataque forte em $inimigo->nome e causou $dano de dano!\n";
    }
}

class Mago extends Personagem {
    public function curar() {
        $this->vida += 10;
        echo "$this->nome se curou e agora tem $this->vida de vida!\n";
    }
}

// Criando os personagens
$guerreiro = new Guerreiro("Guerreiro", 100, 20, 5);
$mago = new Mago("Mago", 80, 15, 3);

// Luta
$guerreiro->atacar($mago);
$mago->curar();
$mago->atacar($guerreiro);
$guerreiro->ataqueForte($mago);

// Status final
$guerreiro->status();
$mago->status();

?>